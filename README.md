<body>
                 <ul><li><p><span style="color: rgb(54,179,126);">Find and kill instance by port</span></p><ul><li><p>&nbsp;&nbsp; netstat -ano | findstr :3000</p></li><li><p>&nbsp;&nbsp; taskkill /PID 8880 /F</p></li></ul></li><li><p><span style="color: rgb(54,179,126);">zip files</span></p><ul><li><p>&nbsp;&nbsp;&nbsp; sudo apt-get install zip</p></li><li><p>&nbsp;&nbsp; zip -r {filename.zip} {foldername}</p></li></ul></li><li><p><span style="color: rgb(54,179,126);">Java</span></p><ul><li><p><span style="color: rgb(54,179,126);">JPS</span> - <a href="https://docs.oracle.com/en/java/javase/17/docs/specs/man/jps.html" data-card-appearance="inline">https://docs.oracle.com/en/java/javase/17/docs/specs/man/jps.html</a></p><ul><li><p>running java processes = <code>jps -lV</code></p></li></ul></li></ul></li><li><p><span style="color: rgb(54,179,126);">&nbsp;find process by port</span></p><ul><li><p>lsof -i:18090</p></li></ul></li><li><p><span style="color: rgb(54,179,126);">Linux find process by name using pgrep command</span></p><p>pgrep command looks through the currently running processes and lists the process IDs which match the selection criteria to screen. All the criteria have to match. For example, will only list the processes called sshd AND owned by root user:<br><code>$ pgrep -u root sshd</code><br>Just look up pid for firefox process:<br><code>$ pgrep firefox</code></p></li><li><p><span style="color: rgb(54,179,126);">Find by listening Port</span></p><ul><li><p>sudo lsof -i -P -n | grep LISTENING</p></li></ul></li><li><p><span style="color: rgb(54,179,126);">Find java and remove applications you don’t want killed</span></p><ul><li><p>jps | egrep -v $(pgrep webstorm) | egrep -v $(pgrep idea)</p></li><li><p><span style="color: rgb(54,179,126);">Find apps running jvm, deliminate by first space, return the field1 (PID), kill all</span> -</p><ul><li><p><code>for pid in $(jps | egrep -v $(pgrep webstorm) | egrep -v $(pgrep idea)| egrep -v $(pgrep jps) | cut -d' ' -f1); do kill -9 $pid; done</code></p></li></ul></li><li><p>To kill all the processes that you have the permission to kill, simply run the command</p><p><code>kill -15 -1</code> or <code>kill -9 -1</code> depending on the desired behavior (use <code>man kill</code> for details)</p><p><code>pkill firefox</code> or <code>killall firefox</code> </p><p>If you want to see what processes are running use the command</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="2f247f4f-a529-45d8-9f38-61211d503504" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>ps -ef
</pre></td></tr></tbody></table><p>If you want to look up all processes by user bob, this might help</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="27223ebf-4e98-4604-8dbc-ab72d83169e7" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>pgrep -l -u bob
</pre></td></tr></tbody></table><p>or</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="737fa7a9-2f5f-4955-9fcb-ac6f480638d0" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>ps -ef | grep bob</pre></td></tr></tbody></table><p></p></li></ul></li></ul><h1><strong><span style="color: rgb(54,179,126);">GET IP info</span></strong></h1><ul><li><p>nslookup &lt;computer/domain&gt;</p></li><li><p>The following commands will get you the IP address list to find public IP addresses for your machine:</p><ol><li><p><code>curl ifconfig.me</code></p><p><code>curl -4/-6 icanhazip.com</code></p><p><code>curl ipinfo.io/ip</code></p><p><code>curl api.ipify.org</code></p><p><code>curl checkip.dyndns.org</code></p><p><code>dig +short myip.opendns.com @resolver1.opendns.com</code></p><p><code>host myip.opendns.com resolver1.opendns.com</code></p><p><code>curl ident.me</code></p><p><code>curl bot.whatismyipaddress.com</code></p><p><code>curl ipecho.net/plain</code></p></li></ol><p>The following commands will get you the private IP address of your interfaces:</p><ol><li><p><code>ifconfig -a</code></p><p><code>ip addr (ip a)</code></p><p><code>hostname -I | awk '{print $1}'</code></p><p><code>ip route get 1.2.3.4 | awk '{print $7}'</code></p><p><code>(Fedora) Wifi-Settings→ click the setting icon next to the Wifi name that you are connected to → Ipv4 and Ipv6 both can be seen</code></p><p><code>nmcli -p device show</code></p></li></ol></li></ul><h1><span style="color: rgb(54,179,126);">BURN ISO to USB</span></h1><ul><li><p><span style="color: rgb(54,179,126);">$ diskutil list</span></p><ul><li><p><span style="color: rgb(54,179,126);">diskutil unmountDisk /dev/disk2</span></p></li><li><p><span style="color: rgb(54,179,126);">sudo dd if=/path/to/win-iso-file of=/dev/disk2 bs=1m</span></p></li><li><p><span style="color: rgb(54,179,126);"> eject /dev/disk2</span></p></li></ul></li></ul><h1>Mac Specific</h1><ul><li><p>Copy terminal output directly to clip board = <span style="color: rgb(54,179,126);">pbcopy &lt; ~/.ssh/id_rsa.pub</span></p></li></ul><h3>Creating an empty file</h3><p>This is an easy one. Touch is by default idempotent. This means you can call it multiple times without any issues. A second call won’t have any effects on the file content. Note though it’ll update the file’s modification time, so if you depend on it be careful.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="b73e53fd-b24a-45cd-814a-d37b6285ceef" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>touch example.txt
</pre></td></tr></tbody></table><h3>Creating a directory</h3><p>Never use <code>mkdir</code> directly, instead use it with the<code>-p</code> flag. This flag make sure mkdir won’t error if the directory exists:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="b9fbca31-93b1-40f5-8f74-c3ec63b3c104" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>mkdir -p mydir
</pre></td></tr></tbody></table><h3>Creating a symbolic link</h3><p>We create symbolic links with the following command:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="e4469634-9063-4bc7-b39e-d831510a9943" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>ln -s source target
</pre></td></tr></tbody></table><p>But this will fail if you call it again on the same target. To make it idempotent, pass the <code>-f</code> flag:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="4669fd0d-3fd1-4f01-84c2-961fe2b851bd" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>ln -sf source target
</pre></td></tr></tbody></table><p>The <code>-f</code> flag removes the target destination before creating the symbolic link, hence it’ll always succeed.</p><p>When linking a directory, you need to pass <code>-n</code> too. Otherwise calling it again will create a symbolic link inside the directory.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="eb3e2b48-c999-45d6-82d9-7f3844d46d75" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>mkdir a
ln -sf a b
ln -sf a b
ls a
a
</pre></td></tr></tbody></table><p>So to be safe, always use <code>ln -sfn source target</code>.</p><h3>Removing a file</h3><p>Instead of removing a file with:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="ca88ee89-0244-402c-9b41-b29eea01892b" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>rm example.txt
</pre></td></tr></tbody></table><p>Use the <code>-f</code> flag which ignores non-existent files.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="b7c9fbe6-df11-40c6-a53c-dde043e47332" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>rm -f example.txt
</pre></td></tr></tbody></table><h3>Modifying a file</h3><p>Sometimes you’re adding a new line to an existing file (i.e: <code>/etc/fstab</code>). This means, you need to make sure not to add it the second time if you run your script. Suppose you have this in your script:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="60dc259e-166f-4d73-a40f-05a15c066192" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>echo "/dev/sda1 /mnt/dev ext4 defaults 0 0" | sudo tee -a /etc/fstab
</pre></td></tr></tbody></table><p>If this is run again, you’ll end up having duplicate entries in your <code>/etc/fstab</code>. One way of making this idempotent is to make sure to check for certain placeholders via <code>grep</code>:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="d861ef4e-0606-4536-8da5-b7931bed9454" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>if ! grep -qF "/mnt/dev" /etc/fstab; then
  echo "/dev/sda1 /mnt/dev ext4 defaults 0 0" | sudo tee -a /etc/fstab
fi
</pre></td></tr></tbody></table><p>Here the <code>-q</code> means silent mode and <code>-F</code> enables <code>fixed string</code> mode. Grep will silently fail if <code>/mnt/dev</code> doesn’t exist so the echo statement will never be called.</p><h3>Check if variable, file or dir exists</h3><p>Most of the time you’re writing to a directory, reading from a file or doing simple string manipulations with a variable. For example you might have a tool that creates a new file based on certain inputs:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="f23ffdb1-01e7-4cc9-9aeb-7dde633c49c8" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>echo "complex set of rules" &gt; /etc/conf/foo.txt
</pre></td></tr></tbody></table><p>Calculating the text might be an expensive operation, hence you don’t want to write it every time you call the script. To make it idempotent you check if the file exists via the <code>-f</code> flag of the inbuilt <code>test</code> property of the shell:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="91573b97-5d7f-43bf-ad06-b7685c2a4058" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>if [ ! -f "/etc/conf/foo.txt" ]; then
 echo "complex set of rules" &gt; /etc/conf/foo.txt
fi
</pre></td></tr></tbody></table><p>Here <code>-f</code> is just an example, there are many other flags you can use, such:</p><ul><li><p><code>-d</code>: directory</p><p><code>-z</code>: string of zero length</p><p><code>-p</code>: pipe</p><p><code>-x</code>: file and has execute permission</p></li></ul><p>For example suppose you want to install a binary, but only if it doesn’t exist in your host, you can use the <code>-x</code> like this:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="8027a348-0403-4af7-bd23-d3b9e7a4563a" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre># install 1password CLI
if ! [ -x "$(command -v op)" ]; then
  export OP_VERSION="v0.5.6-003"
  curl -sS -o 1password.zip https://cache.agilebits.com/dist/1P/op/pkg/${OP_VERSION}/op_linux_amd64_${OP_VERSION}.zip
  unzip 1password.zip op -d /usr/local/bin
  rm -f 1password.zip
fi
</pre></td></tr></tbody></table><p>This installs the <code>op</code> binary to /usr/local/bin. If you re-run your script, it won’t install it anymore. Another benefit is, you can easily upgrade the binary to a new version by just removing it from your system, update the <code>OP_VERSION</code> env and re-run your script.</p><p>For a list of complete flags and operators checkout <code>man test</code>.</p><h3>Formatting a device</h3><p>To format a volume, say with an <code>ext4</code> format, you can use a command like the following:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="90f102c4-f4c9-4e73-a566-ef40a3e81ce2" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>mkfs.ext4 "$VOLUME_NAME"
</pre></td></tr></tbody></table><p>Of course, this would fail immediately if you call it again. To make this call idempotent, we prepend it with <code>blkid</code>:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="ecbea6db-7367-4d3d-8794-96189594cec9" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>blkid "$VOLUME_NAME" || mkfs.ext4 "$VOLUME_NAME"
</pre></td></tr></tbody></table><p>This command prints attributes for a given block device. Hence prepending basically means to proceed with formatting <em>only</em> when <code>blkid</code> fails, which is an indication that the given volume is not formatted yet.</p><h3>Mounting a device</h3><p>Trying to mount a volume to an existing directory can be done with the following example command:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="4f927ab8-7028-443d-a24d-8d9636fe58dd" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>mount -o discard,defaults,noatime "$VOLUME_NAME" "$DATA_DIR"
</pre></td></tr></tbody></table><p>This will fail however if it’s already mounted. One way is to check the output of <code>mount</code> command and see if the volume is already mounted. But there is a better way to do it. Using the <code>mountpoint</code> command:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="8d056f6e-1daf-4c69-a053-9e150175bbfe" data-macro-schema-version="1" style="background-image: url(https://talentplus.atlassian.net/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGV9&amp;locale=en_US&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>if ! mountpoint -q "$DATA_DIR"; then
  mount -o discard,defaults,noatime "$VOLUME_NAME" "$DATA_DIR"
fi
</pre></td></tr></tbody></table><p>The <code>mountpoint</code> command checks whether a file or directory is a mount point. The <code>-q</code> flag just makes sure it doesn’t output anything and silently exits. In this case, if the mount point doesn’t exist, it’ll go forward and mount the volume.</p><h2>Turn into server</h2><p>Step 1: <code>sudo apt install ubuntu-server</code>.</p><p>Step 2 is <code>sudo systemctl set-default multi-user.target</code></p>
        <p>&nbsp;</p>
    

</body>
